# フロントエンドで使われている技術

## 基礎技術
- HTML
  - XML などと同じマークアップ言語。見た目の情報などを含んでいる
- CSS
  - HTML の表すビジュアル面をサポートするもの。色やフォントの種類、ブロックの配置を決める
- JavaScript
  - フロントで行う処理を記載するスクリプト

## JavaScript の過去と現在
#### 過去
> 昔は重たい処理はサーバー側で行い、ブラウザで行う処理は最低限のものだった
#### 現在
> 技術向上のおかげでスマホでも多くのメモリを積んでいるのが普通な時代になり、ブラウザが負う責任が大きくなった

### JavaScript の拡張性
- もともとフロント（ブラウザ）で簡単な処理を行うために作られた言語。次第に他の言語で使われているクラス、静的型付け、ジェネリクスといった機能が追加されてきました。そして、サーバー側でも使いたいという人も出始めたことで Node.js という OSS が生まれた
  - これにより、サーバーサイドも JavaScript で動かすようなアプリケーションも生まれた
- 現在のフロントエンド開発ではフレームワーク入れることが大半だと思うが、フレームワークは Node.js があること前提であることが多い
  - JavaScript ではライブラリの参照先を `<script src="xxx" />` のようにHTML上に書く事で使用していたが、Node.js とバンドラーが生まれたことでコンパイル時に1つにまとめてくれるようなりHTML上に直接書く必要が無くなった
  - ただしこのバンドラー含めた環境設定が難しい。難しすぎて専門職あったりする
- TypeScript という JavaScript を拡張した言語が生まれた
  - 大規模開発を JavaScript で行うことを焦点に作られた
  - 他にも JavaScript を拡張した言語はあるがこれがシェア率なんかも高い（一番受け入れられた？）
  - TypeScript の利点
    - 基本的に JavaScript を知っていればすぐ書けるようになる（学習コストが低い）
    - 静的型付け言語（タイプセーフ）である。型があることでコンパイル時にさまざまな問題を発見できる
    - 型推論がある。全てに型を指定する必要なく、自動で型を決定してくれる
    - 型宣言をするためエラーをコンパイル時に検出できる
    - コンパイルすると JavaScript になる（ベースが同じだけで言語としては違うのでトランスパイルという）

## React等のView用ライブラリにおけるレンダリング方法
名称 | 通称 | 概要 | メリット | デメリット
-- | -- | -- | -- | --
Client Side Rendering | CSR | ブラウザで全てレンダリングする | APIなどでデータ取得くらいしかサーバーへアクセスしないためサーバー側の負荷が少ない。ページ遷移やコンテンツ更新時は必要な場所のみ再描画ができるため使用者側のストレスが少ない | ページにアクセスしてからHTMLなどの生成を行うのでファーストビューが遅い。ユーザー側のマシンに処理を任せているためユーザーのCPUなどを使う
Single Page Application | SPA | CSRと同じ| | |
Server Side Rendering | SSR | サーバー側でHTMLなどレンダリングに必要なデータを揃えてからユーザー側に返す | ファーストビューが早い。SEOに強い。ユーザーマシンへの負荷が小さい | サーバーの負荷が高い
Static Site Generation | SSG | 静的ファイルにしてユーザーに返す| ファーストビュー最速。SEOに強い。キャッシュまわりを気にしなくてよくなる | 他の方法に比べてビルド時間が長い。データが更新されても、ビルドしないと反映されない。そのため更新が多いサイトには向かない |
Incremental Static Regeneration | ISR | 基本は SSG と同じ。サーバー側のバックグランドで静的ページの再生成を行う | SSGのビルドを短縮できる | vercel というサーバーレスプラットフォームでしか対応してない。もちろん他サービスや自前のサーバーでやろうと思えばできるが考えることが多くて大変らしい

### キャッシュまわり
- メモリキャッシュについてはライブラリがあるので、機能に合わせて選択しよう
- CDN（Content Delivery Network）という手法をとる
  - 概要：地理的に様々な場所にサーバーを用意し、そこからキャッシュを返すことでユーザーに高速でwebコンテンツを返すことができる
  - 様々な企業がホスティングサービスを提供している（Akmai, Amazon, Fastly, etc）

### ホスティングについて
- どこにデプロイするか（2020年度のランキング）
  1. 自社
  1. AWS
  1. Netlify
  1. GCP
  1. Azure
  1. Vercel

### その他、環境周りで使用されている技術
- コンテナ
- CI/CD（Continuous Integration / Continuous Delivery）
- repogitory構成
  - frontend の技術というわけではないので簡単に概要を記載する。詳しくは別資料を。
  - よく使われているものとして、Monorepo、Polyrepo と呼ばれる方法がある
    - Monorepo : アプリケーションやマイクロサービスの全コードを単一のリポジトリで管理する方法
    - Polyrepo : アプリケーション1つに対して1つのリポジトリで管理する方法
  - Pros, Cons
    - Monorepo
      - Pros : コードの共有・共通化、コードやツールの標準化、プロダクト全体を把握しやすくなる。ビルドの統一化。
      - Cons : 共通コードを修正した時やコンフリクト時のの影響が大きい。共通モジュールのバージョン管理が難しくなる。
    - Polyrepo
      - Pros : バージョン管理が楽。monorepo 運用を行う知識が不要。
      - Cons : 依存元と先の更新が別になり手間が増える。プロダクト全体が把握しにくい。

### フレームワークについて
※[参照は2021年度](https://2021.stateofjs.com/en-US/)
#### フロントエンド
- 有名どころ（ランキング順）
  1. React ← 現場で使ってる
  1. Angular
  1. Vue.js
  1. Svelte
  1. Preact ← 現場で使ってる
#### バックエンド
- 有名どころ（ランキング順）
  1. Express ← 現場で使ってる
  1. Next.js
  1. Gatsby
  1. Nuxt
  1. Next
  1. Strapi
  1. Fastify ← 現場で使ってる

### 開発ツール
書くだけならメモ帳でも開発できますが、人間楽したいので Java の eclipce のような IDE を使いたいと願う人が多いとは思う。現在は一番拡張性がある VSCode が主流になっていると感じる。

エディタはエラーやワーニングを表示するだけならデフォルトで入っていたりしますが、そもそも TypeScript 含め JavaScript は極端な言い方をすればルールがあってないようなものです
>例）全部1行で書いても動きます

そのため、ESLint と Prittier というフォーマッターを使うことが多いです。
どちらも同じコードフォーマットツールですが、それぞれ特徴があり基本的に併用して使うことが多いと思います。

- 特徴
  - Prittier
    - ESLint に比べてフォーマットできる範囲広い
  - ESLint
    - Prittier にはない構文チェックができる

上記特徴から、Prittier でコードフォーマットを行い、ESLint で構文ルールを決めチェックを行う。

よく使われるのはエディタでコードを書いてる時は ESLint で動的に構文チェックをし、ファイル保存時に Prittier でコードフォーマットを行う。

